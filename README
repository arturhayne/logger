# Logs Pipeline - Filebeat + Elasticsearch + Kibana

## VisÃ£o Geral
Este sistema utiliza **Filebeat**, **Elasticsearch** e **Kibana** para coletar, processar e visualizar logs de aplicaÃ§Ãµes. Os logs sÃ£o armazenados na pasta `logs/` e sÃ£o enviados para o Elasticsearch via Filebeat.

### Componentes:
- **Filebeat**: Coleta logs e os envia para o Elasticsearch.
- **Elasticsearch**: Armazena e indexa os logs.
- **Kibana**: Permite a visualizaÃ§Ã£o e anÃ¡lise dos logs.

---

## Estrutura do Projeto
```
logs_pipeline/
â”‚â”€â”€ docker-compose.yml
â”‚â”€â”€ filebeat.yml
â”‚â”€â”€ pipeline_logs.json
â”‚â”€â”€ logs/
â”‚   â”œâ”€â”€ app.log
â”‚   â”œâ”€â”€ error.log
â”‚   â”œâ”€â”€ access.log
```

### DescriÃ§Ã£o dos Arquivos:
- **docker-compose.yml**: Define os containers do Elasticsearch, Kibana e Filebeat.
- **filebeat.yml**: Configura o Filebeat para ler e processar logs.
- **pipeline_logs.json**: Define um pipeline de processamento de logs no Elasticsearch.
- **logs/**: Pasta onde os logs da aplicaÃ§Ã£o sÃ£o armazenados.

---

## Como Executar o Sistema

### 1. Subindo os Containers
Certifique-se de que o Docker e o Docker Compose estÃ£o instalados e execute:
```sh
docker-compose up -d
```
Isso iniciarÃ¡ os seguintes containers:
- **Elasticsearch** (porta 9200)
- **Kibana** (porta 5601)
- **Filebeat**

### 2. Criando o Pipeline de Logs no Elasticsearch
Para processar os logs corretamente, crie o pipeline:
```sh
curl -X PUT "http://localhost:9200/_ingest/pipeline/pipeline_logs" -H "Content-Type: application/json" -d @pipeline_logs.json
```

### 3. Testando a Coleta de Logs
Adicione alguns logs na pasta `logs/`, por exemplo, no arquivo `logs/app.log`:
```
Feb 14 10:45:32 myserver myapp[1234]: INFO: AplicaÃ§Ã£o iniciada com sucesso
Feb 14 10:46:12 myserver myapp[1234]: ERROR: Falha ao conectar ao banco de dados
Feb 14 10:47:05 myserver myapp[1234]: DEBUG: RequisiÃ§Ã£o recebida do IP 192.168.1.1
```
O Filebeat coletarÃ¡ esses logs e os enviarÃ¡ para o Elasticsearch automaticamente.

### 4. Acessando o Kibana para VisualizaÃ§Ã£o
1. Acesse o Kibana em [http://localhost:5601](http://localhost:5601)
2. VÃ¡ para **Discover** e selecione o Ã­ndice correspondente (`filebeat-*`).
3. Explore os logs com filtros e buscas.

---

## Funcionamento do Sistema
1. O **Filebeat** monitora arquivos de log na pasta `logs/` e os envia ao **Elasticsearch**.
2. O **Elasticsearch** indexa os logs e processa os dados conforme o pipeline `pipeline_logs`.
3. O **Kibana** permite explorar e visualizar os logs coletados, fornecendo insights sobre erros, acessos e eventos das aplicaÃ§Ãµes.

---

## Parando o Sistema
Para parar os containers:
```sh
docker-compose down
```
Isso desligarÃ¡ todos os serviÃ§os.

---

Agora seu sistema de logging estÃ¡ configurado e pronto para uso! ðŸš€

